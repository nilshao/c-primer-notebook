# C++ Primer 笔记

## 1. 第一章 开始

### 1.1. 编写一个简单的C++程序V

多个函数，其中1个必须是main函数。函数四个部分：返回类型，函数名，形参列表，函数体。main函数返回类型必须是int，函数返回值类型必须与函数的返回类型相容。

大多数系统中，main的返回值被用来指示状态。返回值0表明成功，非0的返回值的含义由系统定义，通常用来指出错误类型。

### 1.2. 初识输入输出

很多使用iosstream库，isstream和osstream分别表示输入流和输出流。一个流就是一个字符序列，是从IO设备读出或写入IO设备的。术语“流stream”想要表达的是，随着时间推移，字符是顺序生成或消耗的。

#### 1.2.1. 标准输入输出对象

4个IO对象，cin：标准输入。cout：标准输出。cerr：输出警告和错误消息，标准错误。clog：用于输出程序运行时的一般性信息。

#### 1.2.2. 一个使用IO库的程序

```C++
#include<iosstream>

int main(){
    std::cout<< "Enter 2 nums" << std::endl;
    int v1 = 0, v2 = 0;
    std::cin >> v1 >> v2;
    std::cout<< "v1: "<<v1<<" v2: "<< v2<<std::endl;>
}

```

#### 1.2.3. 向流写入数据

略

#### 1.2.4. 使用标准库中的名字

std的命名空间(namespace)，::是作用域运算符

#### 1.2.5. 从流读取数据

输入运算符>>接收一个istream作为其左侧运算对象

### 1.3. 注释

略

### 1.4. 控制流

#### 1.4.1. while语句

```C++
while(condition)
    statement
```

前缀递增运算符(++i)

#### 1.4.2. for语句

#### 1.4.3. 读取数量不定的输入数据

```C++
#include <iostream>
int main(){
    int sum = 0, value = 0;
    while (std::cin >> value)
        sum += value;
    std::cout<< "sum is: " << sum << std::endl;
    return 0;
}
```

从标准输入读取下一个数，保存在value中。输入运算符返回其左侧运算对象，此例中是std::cin。使用istream对象作为条件时，其效果是检测流的状态，如果流是有效的，未遇到错误，则检测成功。若遇到文件结束符，或遇到无效输入时，istream对象变为无效，无效状态的istream对象会使条件变为假。

#### 1.4.4. if语句

### 1.5. 类简介

在C++中，我们通过定义一个类(class)来定义一个数据结构(data structure)。一个类定义了一个类型，以及与其关联的一组操作。三个问题：类名是什么，在哪里定义的，支持什么操作。

#### 1.5.1.  

## 2. 变量和基本类型

### 2.1. 基本内置类型

算数类型(arithmetic type)和空类型(void)在内的基本数据类型。其中算数类型包含字符，整型，布尔值和浮点数。

#### 2.1.1. 算数类型

unsigned 类型所有比特都用来存储值

#### 2.1.2. 类型转换

将对象从一种给定类型convert为另一种相关类型。当我们使用了一种类型而其实对象应该取另一种类型时，程序会自动进行类型转换。、

todo: 算数类型范围，带符号和无符号类型好好整理！！！

例子

```C++
bool b = 42;
int i = b;
i = 3.14;
double pi = i;
unsigned char c = -1;       //假设char占8比特，c=255
signed char c2 = 256;       //假设char占8比特，c2的值是未定义的
```

后两个：

+ 当我们赋值给无符号类型一个超出他表示范围的值时，结果是初始值对无符号类型表示数值总数取模后的余数 -1 mod 256 是255

+ 当我们赋值给带符号类型一个超出他表示范围的值时，结果是未定义的(undefined)，此时程序可能继续工作，可能崩溃也可能生成垃圾数据。

含有无符号类型的表达式

当一个算术表达式中又有int又有无符号数时，这个int就会被转换成无符号数，把int转换成无符号数的过程和把int直接赋值给无符号变量一样

```c++
    unsigned u = 10;
    int i = -42;
    std::cout << i + u << std::endl;
    std::cout << i + i << std::endl;
```

这与int在当前机器上所占位数决定，32位：4294967264即 2^32-32。

不要混用带符号类型和无符号类型

练习题！！

#### 2.1.3. 字面值常量literal

每个字面值常量都对应一种数据类型，字面值常量的形式和值决定了它的数据类型

##### 整形和浮点型字面值

十进制，八进制，十六进制。 以0开头的整数代表八进制，0x或0X开头的代表十六进制。十进制下的20：

20（十进制），024（八进制），0x14（十六进制）

整形字面值具体的数据类型由他的值和符号决定。默认情况下十进制字面值是带符号值，八进制和十六进制字面值既可能是带符号也可能是无符号的。十进制字面值类型是int, long, long long中尺寸最小的那个，前提是能容纳下。八进制和十六进制是int, unsigned int, long, unsigned long, long long, unsigned long long中最小的那个。如果容纳不下，将产生错误。类型short没有对应字面值。

尽管整型字面值可以存储在带符号数据类型中，但严格来说，十进制字面值不会是负数。如-42的负十进制字面值，那个符号并不在字面值之内，他的作用是对字面值取负。

浮点型字面值表现为一个小数或者以科学计数法表示的指数，其中指数部分用e或E表示，如3.1415e0。

